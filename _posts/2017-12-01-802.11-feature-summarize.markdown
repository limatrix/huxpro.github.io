---
layout: post
title:  "802.11基本信息总结"
categories: 80211
author: 拾贝
catalog: true
tags:  
    - wifi 
    - 80211
---

## 1. 11A和11G相关特性

    802.11A/G相较于802.11B主要使用了OFDM调制技术. OFDM即正交频分复用技术,是多载波(MCM)调制的一种. OFDM的主要思想是:将信道分成若干正交子信道,将高速数据信号转换成并行的低速子数据流,调制到每个子信道上进行传输.通俗来说就是通过多条互相没有关系的通道传输不同的信息.OFDM频带利用率高,抗多径能力强,能有效抑制符号间干扰(ISI)和信道间干扰(ICI). 不过OFDM技术易受频率偏差的影响，存在较高的峰值平均功率比(PAR),可以通过空时块编码、分集、干扰抑制以及智能天线技术,最大程度地提高物理层的可靠性.

    正交,从向量上来看就是两个互相垂直的向量,无论其模长多少,相乘总是等于0. 从函数角度来看, 无论两个函数的幅值是多少,在确定的一个时间周期内相乘,其积分总是等于0, 也就是面积相加等于0.

## 2. 802.11N相关特性

### 信道绑定
    
    传统的802.11标准,空口都工作在20MHz频宽,802.11n技术通过将相邻的两个20MHz信道绑定成40MHz,使传输速率成倍提高.在实际工作中,将两个相邻的20MHz信道绑定使用,一个为主带宽,一个为次带宽,收发数据时既可以40MHz的带宽工作,也可以单个20MHz带宽工作.同时为避免相互干扰,原本每20MHz信道之间都会预留一小部分的带宽,当采用信道绑定技术工作在40MHz带宽时,这一部分预留的带宽也可以被用来通信,进一步提高了吞吐量.

### MIMO
    
    802.11a/b/g无线接入点和客户端是通过单个天线单个空间信道来实现数据传送的.802.11n接入点和客户端能够利用两个或者更多的空分信道同时传输数据,并且能够采用多个接收天线和高级信号处理技术来重建从多个信道发送过来的数据.基于MIMO的接入点使用空间复用技术在不同的天线上传送不同比特的信息,从而能够提供更高的数据吞吐量和可靠性.先前的无线技术在处理反射信号的时候存在问题,而MIMO技术则可以有效的利用这种反射来消除“盲区”,从而增加了无线服务的覆盖范围.

#### Beamforming(波束成型)

    Beamforming是发射端对数据先加权再发送,形成窄的发射波束,将能量对准目标用户,从而提高目标用户的解调信噪比,这对改善小区边缘用户吞吐率特别有效.

    该技术应用在接收端只有一个天线,且没有障碍物的环境.如果不采用Beamforming技术,接收端接收到的相位可能发生异相.采用了Beamforming技术后,接收端能收到正相相位,使信号最大, 达到在接收端提高SNR的目的

#### Spatial Diversity
    
    在室内,障碍物较多,信号不可能总是以直线最短距离传输到接收端,此时就会产生Multipath(多径干扰).多径干扰就是由于传输行走不同路径造成迟延结果,它会损害信号发送,并在RF覆盖范围内产生gaps或holes.

    对MIMO系统来说,多径效应却可以作为一个有利因素加以利用.MIMO系统在发射端和接收端均采用多天线（或阵列天线）和多通道（如图红色圈圈所示发送端和接收端都可以有多个天线），传输信息流S(k)经过空时编码形成N个信息子流Ci(k)，i=1，……，N，这N个子流由N个天线发射出去，经空间信道后由M个接收天线接收。多天线接收机利用先进的空时编码处理能够分开并解码这些数据子流，从而实现最佳的处理。

    可以使用接收和发送的数量来定义MIMO，比如：2×1：表示两个发送和一个接收，效果等同于Transmit beamforming，如下图所示。从2×1到2×2到3×2，SNR逐渐增大，3×3能使SNR达到最大。

## MAC enhancement（A-MSDU & A-MPDU）

    802.11MAC层协议耗费了相当的效率用作链路的维护，如在数据之前添加PLCP Preamble、PLCP Header、MAC头，同时为解决冲突而引入的退避机制都大大降低了系统的吞吐量。802.11n引入帧聚合技术，提高了MAC层效率。报文聚合技术包括针对MSDU的聚合和MPDU的聚合。采用A-MPDU技术，多个MPDU聚合到一起，只用抢占一次信道，减少了因竞争信道而产生冲突的概率，提高了信道利用率。A-MSDU，是具有相同的DA和SA的MSDU报文聚合成一个较大的载荷，减少物理和MAC层的开销，提高链路效率。

    A-MSDU 和 A-MPDU两种聚合的共同点：减少负荷，且只能聚合同一QoS级别的帧，但因为要等待需要聚合的报文，可能造成延时。另外，只有A-MPDU才使用Block Acknowledgement。

## Block Acknowledgement

    为保证数据传输的可靠性，802.11协议规定每收到一个单播数据帧，都必须立即回应ACK帧。A-MPDU的接收端在收到A-MPDU后，需要对其中的每一个MPDU进行处理，因此同样需要对每一个MPDU发送应答帧。Block Acknowledgement机制通过使用一个ACK帧来完成对多个MPDU的应答，以降低这种情况下的ACK帧的数量。

## Short GI
    
    射频芯片在使用OFDM调制方式发送数据时，整个帧是被划分成不同的数据块进行发送的，为了数据传输的可靠性，数据块之间会有GI（Guard Interval），用以保证接收侧能够正确的解析出各个数据块。802.11a/g采用的800ns的GI，在802.11n模式中，提供了一种Short GI特性。将GI时长减少至400ns，从而可以提高数据传输速率百分之十左右。

    如图所示，在多径环境中，前一个数据块还没有发送完成，后一个数据块可能通过不同的路径先到达，合理的GI长度能够避免相互干扰。如果GI时长不合理，会降低链路的有效SNR。

    Short GI使用于多径情况较少、射频环境较好的应用场景。在多径效应影响较大的时候，应该关闭Short GI功能。

## Power Savings

    在使用802.11n服务时，由于使用了多个天线，电源容量问题则显得尤为突出。因此802.11n协议在节省电源处理上做了改进，采用了Spatial Multiplexing（SM）Power Save技术，其主要处理在于使得STA只有一个天线处于工作状态，其余天线均处于休眠状态，从而达到节省电源的目的。SM Power Save定义了两种电源管理方式：静态SM Power Save和动态SM Power Save。

    静态SM Power Save

    当无线用户处于静态模式时，只有一个天线保持在工作状态，其余天线都处于睡眠状态，相当于一个普通的802.11a或802.11b/g的用户，通过这种方式，可以延长电源的供电时间。在进入睡眠状态时，无线用户会通知上行AP它已处于静态模式，要求AP针对此用户也同时单入单出（SISO）的方式进行数据传输。同理，在无线用户恢复正常工作状态时，也会通知AP切换到MIMO方式进行数据传输。

    动态SM Power Save

    动态模式也只保留一个天线在工作状态，但是当无线用户收到数据报文时，它可以使其他天线迅速进入工作状态。报文处理完后，它又可以将其余的天线恢复到睡眠状态。这套通知机制是通过RTS、CTS实现的。AP将通过RTS来唤醒无线用户，而无线用户则通过回应CTS报文来通知AP已经成功恢复天线到工作状态。

## 关键字

### 峰值平均功率比(PAR)
### 空时块编码
### SNR
### 空间分集
### 时间分集
### MSDU/A-MSDU
### MPDU/A-MPDU
